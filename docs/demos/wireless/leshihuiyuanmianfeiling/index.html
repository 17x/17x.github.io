<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="stylesheet" type="text/css" href="css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="css/style.css" />
    <title>乐视会员免费领</title>
</head>

<body>
    <div class="container">
        <img src="img/banner.jpg" alt="" class="banner" />
        <div class="footer">
            <section class="activeContent cover">
                <div class="formReg">
                    <div class="phoneNumberCover">
                        <input class="phoneNumber" type="text" maxlength="11" placeholder="请输入手机号码" />
                    </div>
                    <div class="verifyCover">
                        <input class="verify" maxlength="6" type="text" placeholder="请输入验证码" />
                        <button type="button" class="getVerifyCode">发送验证码</button>
                    </div>
                </div>
                <button class="btn">马上登录</button>
                <p class="activeTitle">>>> 会员使用说明<<< </p>
            </section>
            <section class="tipsContentCover">
                <div class="tipsContent">
                    <h1>乐视乐次元影视会员使用说明：</h1>
                    <p>1、乐视【乐次元影视会员】可在“乐视视频”移动客户端享受会员权益。</p>
                    <p>2、乐视【乐次元影视会员】需下载乐视视频移动客户端http://dwz.cn/1ylQso 注册会员激活，乐视新用户使用本手机号进行会员注册，乐视老用户使用本手机号直接登录会员。登录成功后在“我的帐户>>个人信息>>消费记录”里查询您的会员权益。</p>
                    <p>3、乐视【乐次元影视会员】一个月起止日期为：本次开通会员成功之日起至31天内有效。</p>
                    <p>4、乐视视频客户端已经成为会员的老用户，会员还在有效期限内的，本次乐次元影视会员时间为累计叠加。</p>
                    <p>5、活动最终解释权归乐视视频所有，如有疑问请致电乐视客服：1010-9000 。</p>
                </div>
                <div class="close"></div>
            </section>
        </div>
        <div class="dialog">
            <div class="dialogBg">
                <img src="img/dialogBg.png" />
                <div class="awardsInfo">
                    <h1>sus</h1>
                    <h2 class="awardsContent">content</h2>
                </div>
                <div class="close"></div>
            </div>
        </div>
        <script src='js/sizzle.min.js' defer async="true" data-main="js/main"></script>
        <script>
        window.onload = function() {;
            var $ = Sizzle,
                body = $('body')[0],
                oGetVerifyCode = $('.getVerifyCode')[0],
                oBtn = $('.btn')[0],
                oPhoneNumber = $('.phoneNumber')[0],
                oVerify = $('.verify')[0],
                oActiveTitle = $('.activeTitle')[0];

            if (oActiveTitle) {
                oTipsContentCover = $('.tipsContentCover')[0];
                oActiveTitle.onclick = function() {
                    oTipsContentCover.style.display = 'block';
                    bindHandler(body, "touchmove", forBidTouchMove);
                    $('.tipsContentCover .close')[0].onclick = function() {
                        this.parentNode.style.display = 'none';
                        removeHandler(body, "touchmove", forBidTouchMove);
                    }
                }
            }

            /*为dialog的关闭按钮添加事件*/
            $('.dialog .close')[0].onclick = function() {
                $('.dialog')[0].style.display = 'none';
                removeHandler(body, "touchmove", forBidTouchMove);
            }

            /*抽奖按钮*/
            if (oBtn) {
                oBtn.onclick = function() {
                    if (!/^1\d{10}$/.test(oPhoneNumber.value)) {
                        alert('请输入正确的手机号码');
                        return false;
                    }
                    if (!/^\d{6}$/.test(oVerify.value)) {
                        alert('请输入正确的验证码');
                        return false;
                    }
                };
            }

            /*获取验证码按钮*/
            if (oGetVerifyCode) {
                oGetVerifyCode.onclick = function() {
                    verifyTimeout(this);
                }

                /*获取倒计时功能，time参数可选*/
                function verifyTimeout(obj, time) {
                    if (obj.nodeType != 1) {
                        return false;
                    }

                    obj.setAttribute('disabled', 'true');
                    time = time || 20;
                    obj.innerHTML = time + "秒重新获取";

                    var timer = setInterval(function() {
                        var _Y = (time <= 1) ? (clearInterval(timer) + obj.removeAttribute('disabled') + (obj.innerHTML = "获取验证码")) : (time -= 1) + (obj.innerHTML = time + "秒重新获取");
                    }, 1000);
                };
            }

            /*禁止冒泡和默认事件*/
            function forBidTouchMove(e) {
                stopPropagation(e);
                preventDefault(e);
            }

            //停止冒泡
            function stopPropagation(event) {
                var e = event || window.event;
                if (e.stopPropagation)
                    e.stopPropagation();
                e.cancelBubble = true;
            }

            //停止默认事件
            function preventDefault(event) {
                var e = event || window.event;
                if (e.preventDefault)
                    e.preventDefault();
                e.returnValue = false;
            }

            // 事件绑定
            function bindHandler(elem, type, handler) {
                if (window.addEventListener) { // 标准浏览器
                    // elem:节点    type:事件类型   handler:事件处理程序
                    // 最后一个参数为true:在捕获阶段调用事件处理程序    为false:在冒泡阶段调用事件处理程序
                    elem.addEventListener(type, handler, false);
                } else if (window.attachEvent) { // IE浏览器
                    elem.attachEvent("on" + type, handler);
                }
            };

            // 事件解除
            function removeHandler(elem, type, handler) {
                if (window.removeEventListener) { // 标准浏览器
                    elem.removeEventListener(type, handler, false);
                } else if (window.detachEvent) { // IE浏览器
                    elem.detachEvent("on" + type, handler);
                }
            };
        }
        </script>
    </div>
</body>

</html>
